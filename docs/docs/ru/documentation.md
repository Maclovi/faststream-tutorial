# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ üìù

–í—ã —Å–æ–∑–¥–∞–ª–∏, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏ —É–ª—É—á—à–∏–ª–∏ —Å–≤–æ—ë FastStream-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –¥–æ–±–∞–≤–∏–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Å Pydantic! üéâ –¢–µ–ø–µ—Ä—å –ø–æ—Ä–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–∏–ª–∏ –≤—ã —Å–∞–º–∏ –≤ –±—É–¥—É—â–µ–º) –º–æ–≥–ª–∏ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. FastStream –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ **[AsyncAPI](https://www.asyncapi.com/)**, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∞—à–∏ –æ—á–µ—Ä–µ–¥–∏, —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —É–¥–µ–ª—è—è –≤–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–º—É, –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ AsyncAPI. –ì–æ—Ç–æ–≤—ã —Å–¥–µ–ª–∞—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö? –ü–æ–≥–Ω–∞–ª–∏! üöÄ

## –ß—Ç–æ —Ç–∞–∫–æ–µ AsyncAPI? ü§î

**[AsyncAPI](https://www.asyncapi.com/)** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö API, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –±—Ä–æ–∫–µ—Ä–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π. –û–Ω –ø–æ—Ö–æ–∂ –Ω–∞ OpenAPI (–¥–ª—è REST API), –Ω–æ —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –æ—á–µ—Ä–µ–¥–∏ –∏ —Å–æ–±—ã—Ç–∏—è. AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- –ö–∞–∫–∏–µ **–æ—á–µ—Ä–µ–¥–∏** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ üì¨.
- –ö–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç **—Å–æ–æ–±—â–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON, –∑–∞–¥–∞–Ω–Ω–∞—è Pydantic) üìã.
- –ö–∞–∫–∏–µ **–ø—É–±–ª–∏–∫–∞—Ü–∏–∏** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–∞–∫–∏–µ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è) üì§.
- –ö–∞–∫ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç **–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è** –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é üîó.

FastStream –¥–µ–ª–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–æ—Å—Ç–æ–π ‚Äî –±—É–∫–≤–∞–ª—å–Ω–æ –ø–∞—Ä–∞ –∫–æ–º–∞–Ω–¥! üòé

## –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ üìÑ

FastStream –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç CLI-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ú—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (`app.py`), –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥–∏ `input-queue` –∏ `output-queue` –∏ –º–æ–¥–µ–ª—å Pydantic `UserMessage`.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ `faststream-tutorial` –∏ –≤–∞—à–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
faststream docs gen app:app
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?** üîç

- `app:app` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –º–æ–¥—É–ª—å `app.py` –∏ –æ–±—ä–µ–∫—Ç `app` (—ç–∫–∑–µ–º–ø–ª—è—Ä `FastStream`).
- –ö–æ–º–∞–Ω–¥–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤–∫–ª—é—á–∞—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (`@broker.subscriber`), –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (`@broker.publisher`) –∏ –º–æ–¥–µ–ª–∏ Pydantic.
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª `asyncapi.json` –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

–û—Ç–∫—Ä–æ–π—Ç–µ `asyncapi.json` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ. –í—ã —É–≤–∏–¥–∏—Ç–µ JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—É, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é:

- –û—á–µ—Ä–µ–¥–∏ `input-queue` –∏ `output-queue`.
- –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (`UserMessage` —Å –ø–æ–ª—è–º–∏ `username` –∏ `message`).
- –ü—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ `input-queue` –≤ `output-queue` –±–ª–∞–≥–æ–¥–∞—Ä—è `@broker.publisher`.

!!! tip
    **–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `broker.publish` –∏ `@broker.publisher`** üì§  

    –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `@broker.publisher` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π FastStream –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ–ø–∏—Å—ã–≤–∞—è, –≤ –∫–∞–∫–∏–µ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `output-queue` –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ–ª–Ω–æ–π, –ø–æ–∫–∞–∑—ã–≤–∞—è –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å–∫–∏, –Ω–æ –∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è –º–µ—Ç–æ–¥ `broker.publish` –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –±–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@broker.publisher`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±—ã–ª–∞ –æ—Ç—Ä–∞–∂–µ–Ω–∞ –≤ AsyncAPI.

## –®–∞–≥ 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ üåê

JSON-—Ñ–∞–π–ª –ø–æ–ª–µ–∑–µ–Ω, –Ω–æ —á–∏—Ç–∞—Ç—å –µ–≥–æ –Ω–µ—É–¥–æ–±–Ω–æ. FastStream –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –∫—Ä–∞—Å–∏–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ HTML. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
faststream docs serve app:app
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?** üîÑ

- FastStream –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.
- –°–µ—Ä–≤–µ—Ä –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `broker.start()` –∏–ª–∏ `broker.connect()`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ RabbitMQ.

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000`. –í—ã —É–≤–∏–¥–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –≥–¥–µ:

- –ü–æ–∫–∞–∑–∞–Ω—ã –æ—á–µ—Ä–µ–¥–∏ `input-queue` –∏ `output-queue` üóÑÔ∏è.
- –û–ø–∏—Å–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (`UserMessage` —Å –ø–æ–ª—è–º–∏ `username` –∏ `message`) üìã.
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∑ `input-queue` –≤ `output-queue`, –≤–∫–ª—é—á–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–º –∏ –∏–∑–¥–∞—Ç–µ–ª–µ–º.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–ª–∏–∫–Ω—É—Ç—å –ø–æ –æ—á–µ—Ä–µ–¥—è–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º ‚Äî —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –±—Ä–æ–∫–µ—Ä–æ–º! üòä

## –®–∞–≥ 3: –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚úçÔ∏è

–ß—Ç–æ–±—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—ã–ª–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–µ–µ, –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Pydantic. –û—Ç–∫—Ä–æ–π—Ç–µ `app.py` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ª–µ–¥—É—é—â–µ–º—É:

```python
--8<-- "src/tutorial/documentation/app.py"
```

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?** üîç

- **Pydantic `Field`**: –ü–æ–ª—è `username` –∏ `message` –≤ `UserMessage` –∏–º–µ—é—Ç `description` (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è") –∏ `examples` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"Alice"`), –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ AsyncAPI –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–π.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `title` –∏ `description`**: –í `FastStream` –∑–∞–¥–∞–Ω—ã `title="User Message Processor"` –∏ `description="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"`, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- **–î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏**: –§—É–Ω–∫—Ü–∏–∏ `handle_message` –∏ `check_result` –∏–º–µ—é—Ç –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. FastStream –ø–∞—Ä—Å–∏—Ç –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (`@broker.subscriber`) –∏ –≤–∫–ª—é—á–∞–µ—Ç –∏—Ö –≤ AsyncAPI.
- **–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å `@broker.publisher`**: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@broker.publisher("output-queue")` –≤ `handle_message` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ `output-queue`. –≠—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ AsyncAPI –∫–∞–∫ —Å–≤—è–∑—å –º–µ–∂–¥—É `input-queue` (–ø–æ–¥–ø–∏—Å–∫–∞) –∏ `output-queue` (–ø—É–±–ª–∏–∫–∞—Ü–∏—è).

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–Ω–æ–≤–∞:

```bash
faststream docs gen app:app
faststream docs serve app:app
```

[![AsyncAPI](../assets/img/AsyncAPI.png)](../assets/img/AsyncAPI.png)
[![AsyncAPI2](../assets/img/AsyncAPI2.png)](../assets/img/AsyncAPI2.png)
[![AsyncAPI3](../assets/img/AsyncAPI3.png)](../assets/img/AsyncAPI3.png)

–í `http://localhost:8000` –≤—ã —É–≤–∏–¥–∏—Ç–µ:

- –ù–∞ –ø–µ—Ä–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:
    - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "User Message Processor" –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- –ù–∞ –≤—Ç–æ—Ä–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:
    - –û—á–µ—Ä–µ–¥–∏ `input-queue`, `output-queue` –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è `output-queue` —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –∏–∑ –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–æ–≤.
    - –°–æ–æ–±—â–µ–Ω–∏—è –∏–∑ `input-queue` –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ `output-queue` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏, –±–ª–∞–≥–æ–¥–∞—Ä—è `@broker.publisher`. üéâ
- –ù–∞ —Ç—Ä–µ—Ç—å–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:
    - –ü–æ–ª—è `UserMessage` —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ `Field`.

## –®–∞–≥ 4: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ üìö

–ó–∞–∫—Ä–µ–ø–∏—Ç–µ –∑–Ω–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∑–∞–¥–∞–Ω–∏–π:

1. –î–æ–±–∞–≤—å—Ç–µ –≤ –º–æ–¥–µ–ª—å `UserMessage` –ø–æ–ª–µ `timestamp: datetime` —Å `Field`, –≤–∫–ª—é—á–∞—è `description` (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è") –∏ `examples` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"2023-10-01T12:00:00"`). –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –æ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.
2. –ò–∑–º–µ–Ω–∏—Ç–µ –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥ –¥–ª—è `check_result`, –¥–æ–±–∞–≤–∏–≤ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ output-queue –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞"). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
3. –î–æ–±–∞–≤—å—Ç–µ –≤—Ç–æ—Ä–æ–π `@broker.publisher("final-queue")` –∫ `handle_message` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –æ–±–µ –æ—á–µ—Ä–µ–¥–∏ (`output-queue` –∏ `final-queue`).
4. (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ) –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `version="1.0.0"` –≤ `FastStream` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

## –ß—Ç–æ –¥–∞–ª—å—à–µ? üó∫Ô∏è

–í—ã –Ω–∞—É—á–∏–ª–∏—Å—å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å AsyncAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ FastStream-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π! üéâ –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–ª–∏—Ç—å—Å—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —Å –∫–æ–º–∞–Ω–¥–æ–π –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç. –í —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –ø–æ–¥–≤–µ–¥–µ–º –∏—Ç–æ–≥–∏ –∏ —Ä–∞—Å—Å–∫–∞–∂–µ–º, –∫–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–∑—É—á–µ–Ω–∏–µ FastStream. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ [**–ß—Ç–æ –¥–∞–ª—å—à–µ?**](./next_steps.md), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ –¥—Ä—É–≥–∏—Ö –±—Ä–æ–∫–µ—Ä–∞—Ö, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ö –∏ —Ä–µ—Å—É—Ä—Å–∞—Ö.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏, –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å, –∑–∞–≥–ª—è–Ω–∏—Ç–µ –≤ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é FastStream](https://faststream.airt.ai/latest/), –ø–∏—à–∏—Ç–µ –≤ [Telegram](https://t.me/python_faststream) –∏–ª–∏ [Discord](https://discord.gg/qFm6aSqq59). –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∫–æ–¥–∏—Ç—å! üöÄ
